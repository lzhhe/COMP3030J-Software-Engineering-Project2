!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection"),require("d3")):"function"==typeof define&&define.amd?define(["d3-selection","d3"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).LegendLite=e(t.d3,t.d3)}(this,(function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=function(t){try{return!!t()}catch(t){return!0}},l=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),f=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),d=f,p=Function.prototype,h=p.call,v=d&&p.bind.bind(h,h),y=d?v:function(t){return function(){return h.apply(t,arguments)}},g=function(t){return null==t},m=g,b=TypeError,w=function(t){if(m(t))throw new b("Can't call method on "+t);return t},S=w,O=Object,j=function(t){return O(S(t))},E=j,T=y({}.hasOwnProperty),P=Object.hasOwn||function(t,e){return T(E(t),e)},x=l,R=P,M=Function.prototype,k=x&&Object.getOwnPropertyDescriptor,A=R(M,"name"),C={EXISTS:A,PROPER:A&&"something"===function(){}.name,CONFIGURABLE:A&&(!x||x&&k(M,"name").configurable)},I={exports:{}},L="object"==typeof document&&document.all,N={all:L,IS_HTMLDDA:void 0===L&&void 0!==L},B=N.all,D=N.IS_HTMLDDA?function(t){return"function"==typeof t||t===B}:function(t){return"function"==typeof t},G=function(t){return t&&t.Math===Math&&t},F=G("object"==typeof globalThis&&globalThis)||G("object"==typeof window&&window)||G("object"==typeof self&&self)||G("object"==typeof c&&c)||G("object"==typeof c&&c)||function(){return this}()||Function("return this")(),q=F,_=Object.defineProperty,$=function(t,e){try{_(q,t,{value:e,configurable:!0,writable:!0})}catch(n){q[t]=e}return e},z=$,Y="__core-js_shared__",W=F[Y]||z(Y,{}),U=D,H=W,V=y(Function.toString);U(H.inspectSource)||(H.inspectSource=function(t){return V(t)});var K,J,X=H.inspectSource,Q=D,Z=F.WeakMap,tt=Q(Z)&&/native code/.test(String(Z)),et=D,nt=N.all,rt=N.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:et(t)||t===nt}:function(t){return"object"==typeof t?null!==t:et(t)},ot={},it=rt,at=F.document,ut=it(at)&&it(at.createElement),ct=function(t){return ut?at.createElement(t):{}},st=ct,lt=!l&&!s((function(){return 7!==Object.defineProperty(st("div"),"a",{get:function(){return 7}}).a})),ft=l&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),dt=rt,pt=String,ht=TypeError,vt=function(t){if(dt(t))return t;throw new ht(pt(t)+" is not an object")},yt=f,gt=Function.prototype.call,mt=yt?gt.bind(gt):function(){return gt.apply(gt,arguments)},bt=F,wt=D,St=function(t,e){return arguments.length<2?(n=bt[t],wt(n)?n:void 0):bt[t]&&bt[t][e];var n},Ot=y({}.isPrototypeOf),jt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Et=F,Tt=jt,Pt=Et.process,xt=Et.Deno,Rt=Pt&&Pt.versions||xt&&xt.version,Mt=Rt&&Rt.v8;Mt&&(J=(K=Mt.split("."))[0]>0&&K[0]<4?1:+(K[0]+K[1])),!J&&Tt&&(!(K=Tt.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=Tt.match(/Chrome\/(\d+)/))&&(J=+K[1]);var kt=J,At=kt,Ct=s,It=F.String,Lt=!!Object.getOwnPropertySymbols&&!Ct((function(){var t=Symbol("symbol detection");return!It(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&At&&At<41})),Nt=Lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Bt=St,Dt=D,Gt=Ot,Ft=Object,qt=Nt?function(t){return"symbol"==typeof t}:function(t){var e=Bt("Symbol");return Dt(e)&&Gt(e.prototype,Ft(t))},_t=String,$t=function(t){try{return _t(t)}catch(t){return"Object"}},zt=D,Yt=$t,Wt=TypeError,Ut=function(t){if(zt(t))return t;throw new Wt(Yt(t)+" is not a function")},Ht=Ut,Vt=g,Kt=function(t,e){var n=t[e];return Vt(n)?void 0:Ht(n)},Jt=mt,Xt=D,Qt=rt,Zt=TypeError,te={exports:{}},ee=W;(te.exports=function(t,e){return ee[t]||(ee[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var ne=te.exports,re=y,oe=0,ie=Math.random(),ae=re(1..toString),ue=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ae(++oe+ie,36)},ce=ne,se=P,le=ue,fe=Lt,de=Nt,pe=F.Symbol,he=ce("wks"),ve=de?pe.for||pe:pe&&pe.withoutSetter||le,ye=function(t){return se(he,t)||(he[t]=fe&&se(pe,t)?pe[t]:ve("Symbol."+t)),he[t]},ge=mt,me=rt,be=qt,we=Kt,Se=function(t,e){var n,r;if("string"===e&&Xt(n=t.toString)&&!Qt(r=Jt(n,t)))return r;if(Xt(n=t.valueOf)&&!Qt(r=Jt(n,t)))return r;if("string"!==e&&Xt(n=t.toString)&&!Qt(r=Jt(n,t)))return r;throw new Zt("Can't convert object to primitive value")},Oe=TypeError,je=ye("toPrimitive"),Ee=function(t,e){if(!me(t)||be(t))return t;var n,r=we(t,je);if(r){if(void 0===e&&(e="default"),n=ge(r,t,e),!me(n)||be(n))return n;throw new Oe("Can't convert object to primitive value")}return void 0===e&&(e="number"),Se(t,e)},Te=qt,Pe=function(t){var e=Ee(t,"string");return Te(e)?e:e+""},xe=l,Re=lt,Me=ft,ke=vt,Ae=Pe,Ce=TypeError,Ie=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,Ne="enumerable",Be="configurable",De="writable";ot.f=xe?Me?function(t,e,n){if(ke(t),e=Ae(e),ke(n),"function"==typeof t&&"prototype"===e&&"value"in n&&De in n&&!n[De]){var r=Le(t,e);r&&r[De]&&(t[e]=n.value,n={configurable:Be in n?n[Be]:r[Be],enumerable:Ne in n?n[Ne]:r[Ne],writable:!1})}return Ie(t,e,n)}:Ie:function(t,e,n){if(ke(t),e=Ae(e),ke(n),Re)try{return Ie(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new Ce("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ge,Fe,qe,_e=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},$e=ot,ze=_e,Ye=l?function(t,e,n){return $e.f(t,e,ze(1,n))}:function(t,e,n){return t[e]=n,t},We=ue,Ue=ne("keys"),He=function(t){return Ue[t]||(Ue[t]=We(t))},Ve={},Ke=tt,Je=F,Xe=rt,Qe=Ye,Ze=P,tn=W,en=He,nn=Ve,rn="Object already initialized",on=Je.TypeError,an=Je.WeakMap;if(Ke||tn.state){var un=tn.state||(tn.state=new an);un.get=un.get,un.has=un.has,un.set=un.set,Ge=function(t,e){if(un.has(t))throw new on(rn);return e.facade=t,un.set(t,e),e},Fe=function(t){return un.get(t)||{}},qe=function(t){return un.has(t)}}else{var cn=en("state");nn[cn]=!0,Ge=function(t,e){if(Ze(t,cn))throw new on(rn);return e.facade=t,Qe(t,cn,e),e},Fe=function(t){return Ze(t,cn)?t[cn]:{}},qe=function(t){return Ze(t,cn)}}var sn={set:Ge,get:Fe,has:qe,enforce:function(t){return qe(t)?Fe(t):Ge(t,{})},getterFor:function(t){return function(e){var n;if(!Xe(e)||(n=Fe(e)).type!==t)throw new on("Incompatible receiver, "+t+" required");return n}}},ln=y,fn=s,dn=D,pn=P,hn=l,vn=C.CONFIGURABLE,yn=X,gn=sn.enforce,mn=sn.get,bn=String,wn=Object.defineProperty,Sn=ln("".slice),On=ln("".replace),jn=ln([].join),En=hn&&!fn((function(){return 8!==wn((function(){}),"length",{value:8}).length})),Tn=String(String).split("String"),Pn=I.exports=function(t,e,n){"Symbol("===Sn(bn(e),0,7)&&(e="["+On(bn(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!pn(t,"name")||vn&&t.name!==e)&&(hn?wn(t,"name",{value:e,configurable:!0}):t.name=e),En&&n&&pn(n,"arity")&&t.length!==n.arity&&wn(t,"length",{value:n.arity});try{n&&pn(n,"constructor")&&n.constructor?hn&&wn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=gn(t);return pn(r,"source")||(r.source=jn(Tn,"string"==typeof e?e:"")),t};Function.prototype.toString=Pn((function(){return dn(this)&&mn(this).source||yn(this)}),"toString");var xn=I.exports,Rn=xn,Mn=ot,kn=function(t,e,n){return n.get&&Rn(n.get,e,{getter:!0}),n.set&&Rn(n.set,e,{setter:!0}),Mn.f(t,e,n)},An=l,Cn=C.EXISTS,In=y,Ln=kn,Nn=Function.prototype,Bn=In(Nn.toString),Dn=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Gn=In(Dn.exec);An&&!Cn&&Ln(Nn,"name",{configurable:!0,get:function(){try{return Gn(Dn,Bn(this))[1]}catch(t){return""}}});var Fn={},qn={},_n={}.propertyIsEnumerable,$n=Object.getOwnPropertyDescriptor,zn=$n&&!_n.call({1:2},1);qn.f=zn?function(t){var e=$n(this,t);return!!e&&e.enumerable}:_n;var Yn=y,Wn=Yn({}.toString),Un=Yn("".slice),Hn=function(t){return Un(Wn(t),8,-1)},Vn=s,Kn=Hn,Jn=Object,Xn=y("".split),Qn=Vn((function(){return!Jn("z").propertyIsEnumerable(0)}))?function(t){return"String"===Kn(t)?Xn(t,""):Jn(t)}:Jn,Zn=Qn,tr=w,er=function(t){return Zn(tr(t))},nr=l,rr=mt,or=qn,ir=_e,ar=er,ur=Pe,cr=P,sr=lt,lr=Object.getOwnPropertyDescriptor;Fn.f=nr?lr:function(t,e){if(t=ar(t),e=ur(e),sr)try{return lr(t,e)}catch(t){}if(cr(t,e))return ir(!rr(or.f,t,e),t[e])};var fr=D,dr=ot,pr=xn,hr=$,vr=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(fr(n)&&pr(n,i,r),r.global)o?t[e]=n:hr(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:dr.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},yr={},gr=Math.ceil,mr=Math.floor,br=Math.trunc||function(t){var e=+t;return(e>0?mr:gr)(e)},wr=function(t){var e=+t;return e!=e||0===e?0:br(e)},Sr=wr,Or=Math.max,jr=Math.min,Er=function(t,e){var n=Sr(t);return n<0?Or(n+e,0):jr(n,e)},Tr=wr,Pr=Math.min,xr=function(t){return t>0?Pr(Tr(t),9007199254740991):0},Rr=xr,Mr=function(t){return Rr(t.length)},kr=er,Ar=Er,Cr=Mr,Ir=function(t){return function(e,n,r){var o,i=kr(e),a=Cr(i),u=Ar(r,a);if(t&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}},Lr={includes:Ir(!0),indexOf:Ir(!1)},Nr=P,Br=er,Dr=Lr.indexOf,Gr=Ve,Fr=y([].push),qr=function(t,e){var n,r=Br(t),o=0,i=[];for(n in r)!Nr(Gr,n)&&Nr(r,n)&&Fr(i,n);for(;e.length>o;)Nr(r,n=e[o++])&&(~Dr(i,n)||Fr(i,n));return i},_r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$r=qr,zr=_r.concat("length","prototype");yr.f=Object.getOwnPropertyNames||function(t){return $r(t,zr)};var Yr={};Yr.f=Object.getOwnPropertySymbols;var Wr=St,Ur=yr,Hr=Yr,Vr=vt,Kr=y([].concat),Jr=Wr("Reflect","ownKeys")||function(t){var e=Ur.f(Vr(t)),n=Hr.f;return n?Kr(e,n(t)):e},Xr=P,Qr=Jr,Zr=Fn,to=ot,eo=s,no=D,ro=/#|\.prototype\./,oo=function(t,e){var n=ao[io(t)];return n===co||n!==uo&&(no(e)?eo(e):!!e)},io=oo.normalize=function(t){return String(t).replace(ro,".").toLowerCase()},ao=oo.data={},uo=oo.NATIVE="N",co=oo.POLYFILL="P",so=oo,lo=F,fo=Fn.f,po=Ye,ho=vr,vo=$,yo=function(t,e,n){for(var r=Qr(e),o=to.f,i=Zr.f,a=0;a<r.length;a++){var u=r[a];Xr(t,u)||n&&Xr(n,u)||o(t,u,i(e,u))}},go=so,mo=function(t,e){var n,r,o,i,a,u=t.target,c=t.global,s=t.stat;if(n=c?lo:s?lo[u]||vo(u,{}):(lo[u]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=fo(n,r))&&a.value:n[r],!go(c?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;yo(i,o)}(t.sham||o&&o.sham)&&po(i,"sham",!0),ho(n,r,i,t)}},bo=qr,wo=_r,So=Object.keys||function(t){return bo(t,wo)},Oo=l,jo=y,Eo=mt,To=s,Po=So,xo=Yr,Ro=qn,Mo=j,ko=Qn,Ao=Object.assign,Co=Object.defineProperty,Io=jo([].concat),Lo=!Ao||To((function(){if(Oo&&1!==Ao({b:1},Ao(Co({},"a",{enumerable:!0,get:function(){Co(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!==Ao({},t)[n]||Po(Ao({},e)).join("")!==r}))?function(t,e){for(var n=Mo(t),r=arguments.length,o=1,i=xo.f,a=Ro.f;r>o;)for(var u,c=ko(arguments[o++]),s=i?Io(Po(c),i(c)):Po(c),l=s.length,f=0;l>f;)u=s[f++],Oo&&!Eo(a,c,u)||(n[u]=c[u]);return n}:Ao,No=Lo;mo({target:"Object",stat:!0,arity:2,forced:Object.assign!==No},{assign:No});var Bo={};Bo[ye("toStringTag")]="z";var Do="[object z]"===String(Bo),Go=Do,Fo=D,qo=Hn,_o=ye("toStringTag"),$o=Object,zo="Arguments"===qo(function(){return arguments}()),Yo=Go?qo:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=$o(t),_o))?n:zo?qo(e):"Object"===(r=qo(e))&&Fo(e.callee)?"Arguments":r},Wo=Yo,Uo=Do?{}.toString:function(){return"[object "+Wo(this)+"]"};Do||vr(Object.prototype,"toString",Uo,{unsafe:!0});var Ho="process"===Hn(F.process),Vo=y,Ko=Ut,Jo=D,Xo=String,Qo=TypeError,Zo=function(t,e,n){try{return Vo(Ko(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},ti=vt,ei=function(t){if("object"==typeof t||Jo(t))return t;throw new Qo("Can't set "+Xo(t)+" as a prototype")},ni=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Zo(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ti(n),ei(r),e?t(n,r):n.__proto__=r,n}}():void 0),ri=ot.f,oi=P,ii=ye("toStringTag"),ai=function(t,e,n){t&&!n&&(t=t.prototype),t&&!oi(t,ii)&&ri(t,ii,{configurable:!0,value:e})},ui=St,ci=kn,si=l,li=ye("species"),fi=function(t){var e=ui(t);si&&e&&!e[li]&&ci(e,li,{configurable:!0,get:function(){return this}})},di=Ot,pi=TypeError,hi=function(t,e){if(di(e,t))return t;throw new pi("Incorrect invocation")},vi=y,yi=s,gi=D,mi=Yo,bi=X,wi=function(){},Si=[],Oi=St("Reflect","construct"),ji=/^\s*(?:class|function)\b/,Ei=vi(ji.exec),Ti=!ji.test(wi),Pi=function(t){if(!gi(t))return!1;try{return Oi(wi,Si,t),!0}catch(t){return!1}},xi=function(t){if(!gi(t))return!1;switch(mi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ti||!!Ei(ji,bi(t))}catch(t){return!0}};xi.sham=!0;var Ri,Mi,ki,Ai,Ci=!Oi||yi((function(){var t;return Pi(Pi.call)||!Pi(Object)||!Pi((function(){t=!0}))||t}))?xi:Pi,Ii=Ci,Li=$t,Ni=TypeError,Bi=vt,Di=function(t){if(Ii(t))return t;throw new Ni(Li(t)+" is not a constructor")},Gi=g,Fi=ye("species"),qi=f,_i=Function.prototype,$i=_i.apply,zi=_i.call,Yi="object"==typeof Reflect&&Reflect.apply||(qi?zi.bind($i):function(){return zi.apply($i,arguments)}),Wi=Hn,Ui=y,Hi=function(t){if("Function"===Wi(t))return Ui(t)},Vi=Ut,Ki=f,Ji=Hi(Hi.bind),Xi=function(t,e){return Vi(t),void 0===e?t:Ki?Ji(t,e):function(){return t.apply(e,arguments)}},Qi=St("document","documentElement"),Zi=y([].slice),ta=TypeError,ea=/(?:ipad|iphone|ipod).*applewebkit/i.test(jt),na=F,ra=Yi,oa=Xi,ia=D,aa=P,ua=s,ca=Qi,sa=Zi,la=ct,fa=function(t,e){if(t<e)throw new ta("Not enough arguments");return t},da=ea,pa=Ho,ha=na.setImmediate,va=na.clearImmediate,ya=na.process,ga=na.Dispatch,ma=na.Function,ba=na.MessageChannel,wa=na.String,Sa=0,Oa={},ja="onreadystatechange";ua((function(){Ri=na.location}));var Ea=function(t){if(aa(Oa,t)){var e=Oa[t];delete Oa[t],e()}},Ta=function(t){return function(){Ea(t)}},Pa=function(t){Ea(t.data)},xa=function(t){na.postMessage(wa(t),Ri.protocol+"//"+Ri.host)};ha&&va||(ha=function(t){fa(arguments.length,1);var e=ia(t)?t:ma(t),n=sa(arguments,1);return Oa[++Sa]=function(){ra(e,void 0,n)},Mi(Sa),Sa},va=function(t){delete Oa[t]},pa?Mi=function(t){ya.nextTick(Ta(t))}:ga&&ga.now?Mi=function(t){ga.now(Ta(t))}:ba&&!da?(Ai=(ki=new ba).port2,ki.port1.onmessage=Pa,Mi=oa(Ai.postMessage,Ai)):na.addEventListener&&ia(na.postMessage)&&!na.importScripts&&Ri&&"file:"!==Ri.protocol&&!ua(xa)?(Mi=xa,na.addEventListener("message",Pa,!1)):Mi=ja in la("script")?function(t){ca.appendChild(la("script"))[ja]=function(){ca.removeChild(this),Ea(t)}}:function(t){setTimeout(Ta(t),0)});var Ra={set:ha,clear:va},Ma=function(){this.head=null,this.tail=null};Ma.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var ka,Aa,Ca,Ia,La,Na=Ma,Ba=/ipad|iphone|ipod/i.test(jt)&&"undefined"!=typeof Pebble,Da=/web0s(?!.*chrome)/i.test(jt),Ga=F,Fa=Xi,qa=Fn.f,_a=Ra.set,$a=Na,za=ea,Ya=Ba,Wa=Da,Ua=Ho,Ha=Ga.MutationObserver||Ga.WebKitMutationObserver,Va=Ga.document,Ka=Ga.process,Ja=Ga.Promise,Xa=qa(Ga,"queueMicrotask"),Qa=Xa&&Xa.value;if(!Qa){var Za=new $a,tu=function(){var t,e;for(Ua&&(t=Ka.domain)&&t.exit();e=Za.get();)try{e()}catch(t){throw Za.head&&ka(),t}t&&t.enter()};za||Ua||Wa||!Ha||!Va?!Ya&&Ja&&Ja.resolve?((Ia=Ja.resolve(void 0)).constructor=Ja,La=Fa(Ia.then,Ia),ka=function(){La(tu)}):Ua?ka=function(){Ka.nextTick(tu)}:(_a=Fa(_a,Ga),ka=function(){_a(tu)}):(Aa=!0,Ca=Va.createTextNode(""),new Ha(tu).observe(Ca,{characterData:!0}),ka=function(){Ca.data=Aa=!Aa}),Qa=function(t){Za.head||ka(),Za.add(t)}}var eu=Qa,nu=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ru=F.Promise,ou="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,iu=!ou&&!Ho&&"object"==typeof window&&"object"==typeof document,au=F,uu=ru,cu=D,su=so,lu=X,fu=ye,du=iu,pu=ou,hu=kt;uu&&uu.prototype;var vu=fu("species"),yu=!1,gu=cu(au.PromiseRejectionEvent),mu=su("Promise",(function(){var t=lu(uu),e=t!==String(uu);if(!e&&66===hu)return!0;if(!hu||hu<51||!/native code/.test(t)){var n=new uu((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[vu]=r,!(yu=n.then((function(){}))instanceof r))return!0}return!e&&(du||pu)&&!gu})),bu={CONSTRUCTOR:mu,REJECTION_EVENT:gu,SUBCLASSING:yu},wu={},Su=Ut,Ou=TypeError,ju=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new Ou("Bad Promise constructor");e=t,n=r})),this.resolve=Su(e),this.reject=Su(n)};wu.f=function(t){return new ju(t)};var Eu,Tu,Pu,xu=mo,Ru=Ho,Mu=F,ku=mt,Au=vr,Cu=ni,Iu=ai,Lu=fi,Nu=Ut,Bu=D,Du=rt,Gu=hi,Fu=function(t,e){var n,r=Bi(t).constructor;return void 0===r||Gi(n=Bi(r)[Fi])?e:Di(n)},qu=Ra.set,_u=eu,$u=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},zu=nu,Yu=Na,Wu=sn,Uu=ru,Hu=wu,Vu="Promise",Ku=bu.CONSTRUCTOR,Ju=bu.REJECTION_EVENT,Xu=bu.SUBCLASSING,Qu=Wu.getterFor(Vu),Zu=Wu.set,tc=Uu&&Uu.prototype,ec=Uu,nc=tc,rc=Mu.TypeError,oc=Mu.document,ic=Mu.process,ac=Hu.f,uc=ac,cc=!!(oc&&oc.createEvent&&Mu.dispatchEvent),sc="unhandledrejection",lc=function(t){var e;return!(!Du(t)||!Bu(e=t.then))&&e},fc=function(t,e){var n,r,o,i=e.value,a=1===e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(2===e.rejection&&yc(e),e.rejection=1),!0===u?n=i:(l&&l.enter(),n=u(i),l&&(l.exit(),o=!0)),n===t.promise?s(new rc("Promise-chain cycle")):(r=lc(n))?ku(r,n,c,s):c(n)):s(i)}catch(t){l&&!o&&l.exit(),s(t)}},dc=function(t,e){t.notified||(t.notified=!0,_u((function(){for(var n,r=t.reactions;n=r.get();)fc(n,t);t.notified=!1,e&&!t.rejection&&hc(t)})))},pc=function(t,e,n){var r,o;cc?((r=oc.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Mu.dispatchEvent(r)):r={promise:e,reason:n},!Ju&&(o=Mu["on"+t])?o(r):t===sc&&$u("Unhandled promise rejection",n)},hc=function(t){ku(qu,Mu,(function(){var e,n=t.facade,r=t.value;if(vc(t)&&(e=zu((function(){Ru?ic.emit("unhandledRejection",r,n):pc(sc,n,r)})),t.rejection=Ru||vc(t)?2:1,e.error))throw e.value}))},vc=function(t){return 1!==t.rejection&&!t.parent},yc=function(t){ku(qu,Mu,(function(){var e=t.facade;Ru?ic.emit("rejectionHandled",e):pc("rejectionhandled",e,t.value)}))},gc=function(t,e,n){return function(r){t(e,r,n)}},mc=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,dc(t,!0))},bc=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new rc("Promise can't be resolved itself");var r=lc(e);r?_u((function(){var n={done:!1};try{ku(r,e,gc(bc,n,t),gc(mc,n,t))}catch(e){mc(n,e,t)}})):(t.value=e,t.state=1,dc(t,!1))}catch(e){mc({done:!1},e,t)}}};if(Ku&&(nc=(ec=function(t){Gu(this,nc),Nu(t),ku(Eu,this);var e=Qu(this);try{t(gc(bc,e),gc(mc,e))}catch(t){mc(e,t)}}).prototype,(Eu=function(t){Zu(this,{type:Vu,done:!1,notified:!1,parent:!1,reactions:new Yu,rejection:!1,state:0,value:void 0})}).prototype=Au(nc,"then",(function(t,e){var n=Qu(this),r=ac(Fu(this,ec));return n.parent=!0,r.ok=!Bu(t)||t,r.fail=Bu(e)&&e,r.domain=Ru?ic.domain:void 0,0===n.state?n.reactions.add(r):_u((function(){fc(r,n)})),r.promise})),Tu=function(){var t=new Eu,e=Qu(t);this.promise=t,this.resolve=gc(bc,e),this.reject=gc(mc,e)},Hu.f=ac=function(t){return t===ec||undefined===t?new Tu(t):uc(t)},Bu(Uu)&&tc!==Object.prototype)){Pu=tc.then,Xu||Au(tc,"then",(function(t,e){var n=this;return new ec((function(t,e){ku(Pu,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete tc.constructor}catch(t){}Cu&&Cu(tc,nc)}xu({global:!0,constructor:!0,wrap:!0,forced:Ku},{Promise:ec}),Iu(ec,Vu,!1),Lu(Vu);var wc={},Sc=wc,Oc=ye("iterator"),jc=Array.prototype,Ec=function(t){return void 0!==t&&(Sc.Array===t||jc[Oc]===t)},Tc=Yo,Pc=Kt,xc=g,Rc=wc,Mc=ye("iterator"),kc=function(t){if(!xc(t))return Pc(t,Mc)||Pc(t,"@@iterator")||Rc[Tc(t)]},Ac=mt,Cc=Ut,Ic=vt,Lc=$t,Nc=kc,Bc=TypeError,Dc=function(t,e){var n=arguments.length<2?Nc(t):e;if(Cc(n))return Ic(Ac(n,t));throw new Bc(Lc(t)+" is not iterable")},Gc=mt,Fc=vt,qc=Kt,_c=function(t,e,n){var r,o;Fc(t);try{if(!(r=qc(t,"return"))){if("throw"===e)throw n;return n}r=Gc(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Fc(r),n},$c=Xi,zc=mt,Yc=vt,Wc=$t,Uc=Ec,Hc=Mr,Vc=Ot,Kc=Dc,Jc=kc,Xc=_c,Qc=TypeError,Zc=function(t,e){this.stopped=t,this.result=e},ts=Zc.prototype,es=function(t,e,n){var r,o,i,a,u,c,s,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=$c(e,l),y=function(t){return r&&Xc(r,"normal",t),new Zc(!0,t)},g=function(t){return f?(Yc(t),h?v(t[0],t[1],y):v(t[0],t[1])):h?v(t,y):v(t)};if(d)r=t.iterator;else if(p)r=t;else{if(!(o=Jc(t)))throw new Qc(Wc(t)+" is not iterable");if(Uc(o)){for(i=0,a=Hc(t);a>i;i++)if((u=g(t[i]))&&Vc(ts,u))return u;return new Zc(!1)}r=Kc(t,o)}for(c=d?t.next:r.next;!(s=zc(c,r)).done;){try{u=g(s.value)}catch(t){Xc(r,"throw",t)}if("object"==typeof u&&u&&Vc(ts,u))return u}return new Zc(!1)},ns=ye("iterator"),rs=!1;try{var os=0,is={next:function(){return{done:!!os++}},return:function(){rs=!0}};is[ns]=function(){return this},Array.from(is,(function(){throw 2}))}catch(t){}var as=function(t,e){try{if(!e&&!rs)return!1}catch(t){return!1}var n=!1;try{var r={};r[ns]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},us=ru,cs=bu.CONSTRUCTOR||!as((function(t){us.all(t).then(void 0,(function(){}))})),ss=mt,ls=Ut,fs=wu,ds=nu,ps=es;mo({target:"Promise",stat:!0,forced:cs},{all:function(t){var e=this,n=fs.f(e),r=n.resolve,o=n.reject,i=ds((function(){var n=ls(e.resolve),i=[],a=0,u=1;ps(t,(function(t){var c=a++,s=!1;u++,ss(n,e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise}});var hs=mo,vs=bu.CONSTRUCTOR,ys=ru,gs=St,ms=D,bs=vr,ws=ys&&ys.prototype;if(hs({target:"Promise",proto:!0,forced:vs,real:!0},{catch:function(t){return this.then(void 0,t)}}),ms(ys)){var Ss=gs("Promise").prototype.catch;ws.catch!==Ss&&bs(ws,"catch",Ss,{unsafe:!0})}var Os=mt,js=Ut,Es=wu,Ts=nu,Ps=es;mo({target:"Promise",stat:!0,forced:cs},{race:function(t){var e=this,n=Es.f(e),r=n.reject,o=Ts((function(){var o=js(e.resolve);Ps(t,(function(t){Os(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var xs=mt,Rs=wu;mo({target:"Promise",stat:!0,forced:bu.CONSTRUCTOR},{reject:function(t){var e=Rs.f(this);return xs(e.reject,void 0,t),e.promise}});var Ms=vt,ks=rt,As=wu,Cs=mo,Is=bu.CONSTRUCTOR,Ls=function(t,e){if(Ms(t),ks(e)&&e.constructor===t)return e;var n=As.f(t);return(0,n.resolve)(e),n.promise};St("Promise"),Cs({target:"Promise",stat:!0,forced:Is},{resolve:function(t){return Ls(this,t)}});var Ns={},Bs=l,Ds=ft,Gs=ot,Fs=vt,qs=er,_s=So;Ns.f=Bs&&!Ds?Object.defineProperties:function(t,e){Fs(t);for(var n,r=qs(e),o=_s(e),i=o.length,a=0;i>a;)Gs.f(t,n=o[a++],r[n]);return t};var $s,zs=vt,Ys=Ns,Ws=_r,Us=Ve,Hs=Qi,Vs=ct,Ks="prototype",Js="script",Xs=He("IE_PROTO"),Qs=function(){},Zs=function(t){return"<"+Js+">"+t+"</"+Js+">"},tl=function(t){t.write(Zs("")),t.close();var e=t.parentWindow.Object;return t=null,e},el=function(){try{$s=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;el="undefined"!=typeof document?document.domain&&$s?tl($s):(e=Vs("iframe"),n="java"+Js+":",e.style.display="none",Hs.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Zs("document.F=Object")),t.close(),t.F):tl($s);for(var r=Ws.length;r--;)delete el[Ks][Ws[r]];return el()};Us[Xs]=!0;var nl=Object.create||function(t,e){var n;return null!==t?(Qs[Ks]=zs(t),n=new Qs,Qs[Ks]=null,n[Xs]=t):n=el(),void 0===e?n:Ys.f(n,e)},rl=ye,ol=nl,il=ot.f,al=rl("unscopables"),ul=Array.prototype;void 0===ul[al]&&il(ul,al,{configurable:!0,value:ol(null)});var cl,sl,ll,fl=function(t){ul[al][t]=!0},dl=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),pl=P,hl=D,vl=j,yl=dl,gl=He("IE_PROTO"),ml=Object,bl=ml.prototype,wl=yl?ml.getPrototypeOf:function(t){var e=vl(t);if(pl(e,gl))return e[gl];var n=e.constructor;return hl(n)&&e instanceof n?n.prototype:e instanceof ml?bl:null},Sl=s,Ol=D,jl=rt,El=wl,Tl=vr,Pl=ye("iterator"),xl=!1;[].keys&&("next"in(ll=[].keys())?(sl=El(El(ll)))!==Object.prototype&&(cl=sl):xl=!0);var Rl=!jl(cl)||Sl((function(){var t={};return cl[Pl].call(t)!==t}));Rl&&(cl={}),Ol(cl[Pl])||Tl(cl,Pl,(function(){return this}));var Ml={IteratorPrototype:cl,BUGGY_SAFARI_ITERATORS:xl},kl=Ml.IteratorPrototype,Al=nl,Cl=_e,Il=ai,Ll=wc,Nl=function(){return this},Bl=mo,Dl=mt,Gl=D,Fl=function(t,e,n,r){var o=e+" Iterator";return t.prototype=Al(kl,{next:Cl(+!r,n)}),Il(t,o,!1),Ll[o]=Nl,t},ql=wl,_l=ni,$l=ai,zl=Ye,Yl=vr,Wl=wc,Ul=C.PROPER,Hl=C.CONFIGURABLE,Vl=Ml.IteratorPrototype,Kl=Ml.BUGGY_SAFARI_ITERATORS,Jl=ye("iterator"),Xl="keys",Ql="values",Zl="entries",tf=function(){return this},ef=function(t,e,n,r,o,i,a){Fl(n,e,r);var u,c,s,l=function(t){if(t===o&&v)return v;if(!Kl&&t&&t in p)return p[t];switch(t){case Xl:case Ql:case Zl:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,p=t.prototype,h=p[Jl]||p["@@iterator"]||o&&p[o],v=!Kl&&h||l(o),y="Array"===e&&p.entries||h;if(y&&(u=ql(y.call(new t)))!==Object.prototype&&u.next&&(ql(u)!==Vl&&(_l?_l(u,Vl):Gl(u[Jl])||Yl(u,Jl,tf)),$l(u,f,!0)),Ul&&o===Ql&&h&&h.name!==Ql&&(Hl?zl(p,"name",Ql):(d=!0,v=function(){return Dl(h,this)})),o)if(c={values:l(Ql),keys:i?v:l(Xl),entries:l(Zl)},a)for(s in c)(Kl||d||!(s in p))&&Yl(p,s,c[s]);else Bl({target:e,proto:!0,forced:Kl||d},c);return p[Jl]!==v&&Yl(p,Jl,v,{name:o}),Wl[e]=v,c},nf=function(t,e){return{value:t,done:e}},rf=er,of=fl,af=wc,uf=sn,cf=ot.f,sf=ef,lf=nf,ff=l,df="Array Iterator",pf=uf.set,hf=uf.getterFor(df),vf=sf(Array,"Array",(function(t,e){pf(this,{type:df,target:rf(t),index:0,kind:e})}),(function(){var t=hf(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,lf(void 0,!0);switch(t.kind){case"keys":return lf(n,!1);case"values":return lf(e[n],!1)}return lf([n,e[n]],!1)}),"values"),yf=af.Arguments=af.Array;if(of("keys"),of("values"),of("entries"),ff&&"values"!==yf.name)try{cf(yf,"name",{value:"values"})}catch(t){}var gf=Yo,mf=String,bf=function(t){if("Symbol"===gf(t))throw new TypeError("Cannot convert a Symbol value to a string");return mf(t)},wf=y,Sf=wr,Of=bf,jf=w,Ef=wf("".charAt),Tf=wf("".charCodeAt),Pf=wf("".slice),xf=function(t){return function(e,n){var r,o,i=Of(jf(e)),a=Sf(n),u=i.length;return a<0||a>=u?t?"":void 0:(r=Tf(i,a))<55296||r>56319||a+1===u||(o=Tf(i,a+1))<56320||o>57343?t?Ef(i,a):r:t?Pf(i,a,a+2):o-56320+(r-55296<<10)+65536}},Rf={codeAt:xf(!1),charAt:xf(!0)}.charAt,Mf=bf,kf=sn,Af=ef,Cf=nf,If="String Iterator",Lf=kf.set,Nf=kf.getterFor(If);Af(String,"String",(function(t){Lf(this,{type:If,string:Mf(t),index:0})}),(function(){var t,e=Nf(this),n=e.string,r=e.index;return r>=n.length?Cf(void 0,!0):(t=Rf(n,r),e.index+=t.length,Cf(t,!1))}));var Bf={exports:{}},Df={},Gf=Pe,Ff=ot,qf=_e,_f=function(t,e,n){var r=Gf(e);r in t?Ff.f(t,r,qf(0,n)):t[r]=n},$f=Er,zf=Mr,Yf=_f,Wf=Array,Uf=Math.max,Hf=function(t,e,n){for(var r=zf(t),o=$f(e,r),i=$f(void 0===n?r:n,r),a=Wf(Uf(i-o,0)),u=0;o<i;o++,u++)Yf(a,u,t[o]);return a.length=u,a},Vf=Hn,Kf=er,Jf=yr.f,Xf=Hf,Qf="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Df.f=function(t){return Qf&&"Window"===Vf(t)?function(t){try{return Jf(t)}catch(t){return Xf(Qf)}}(t):Jf(Kf(t))};var Zf=s((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),td=s,ed=rt,nd=Hn,rd=Zf,od=Object.isExtensible,id=td((function(){od(1)}))||rd?function(t){return!!ed(t)&&((!rd||"ArrayBuffer"!==nd(t))&&(!od||od(t)))}:od,ad=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),ud=mo,cd=y,sd=Ve,ld=rt,fd=P,dd=ot.f,pd=yr,hd=Df,vd=id,yd=ad,gd=!1,md=ue("meta"),bd=0,wd=function(t){dd(t,md,{value:{objectID:"O"+bd++,weakData:{}}})},Sd=Bf.exports={enable:function(){Sd.enable=function(){},gd=!0;var t=pd.f,e=cd([].splice),n={};n[md]=1,t(n).length&&(pd.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===md){e(r,o,1);break}return r},ud({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:hd.f}))},fastKey:function(t,e){if(!ld(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!fd(t,md)){if(!vd(t))return"F";if(!e)return"E";wd(t)}return t[md].objectID},getWeakData:function(t,e){if(!fd(t,md)){if(!vd(t))return!0;if(!e)return!1;wd(t)}return t[md].weakData},onFreeze:function(t){return yd&&gd&&vd(t)&&!fd(t,md)&&wd(t),t}};sd[md]=!0;var Od=Bf.exports,jd=D,Ed=rt,Td=ni,Pd=mo,xd=F,Rd=y,Md=so,kd=vr,Ad=Od,Cd=es,Id=hi,Ld=D,Nd=g,Bd=rt,Dd=s,Gd=as,Fd=ai,qd=function(t,e,n){var r,o;return Td&&jd(r=e.constructor)&&r!==n&&Ed(o=r.prototype)&&o!==n.prototype&&Td(t,o),t},_d=function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",a=xd[t],u=a&&a.prototype,c=a,s={},l=function(t){var e=Rd(u[t]);kd(u,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(o&&!Bd(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return o&&!Bd(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(o&&!Bd(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Md(t,!Ld(a)||!(o||u.forEach&&!Dd((function(){(new a).entries().next()})))))c=n.getConstructor(e,t,r,i),Ad.enable();else if(Md(t,!0)){var f=new c,d=f[i](o?{}:-0,1)!==f,p=Dd((function(){f.has(1)})),h=Gd((function(t){new a(t)})),v=!o&&Dd((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));h||((c=e((function(t,e){Id(t,u);var n=qd(new a,t,c);return Nd(e)||Cd(e,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=c),(p||v)&&(l("delete"),l("has"),r&&l("get")),(v||d)&&l(i),o&&u.clear&&delete u.clear}return s[t]=c,Pd({global:!0,constructor:!0,forced:c!==a},s),Fd(c,t),o||n.setStrong(c,t,r),c},$d=vr,zd=function(t,e,n){for(var r in e)$d(t,r,e[r],n);return t},Yd=Hn,Wd=Array.isArray||function(t){return"Array"===Yd(t)},Ud=Wd,Hd=Ci,Vd=rt,Kd=ye("species"),Jd=Array,Xd=function(t){var e;return Ud(t)&&(e=t.constructor,(Hd(e)&&(e===Jd||Ud(e.prototype))||Vd(e)&&null===(e=e[Kd]))&&(e=void 0)),void 0===e?Jd:e},Qd=function(t,e){return new(Xd(t))(0===e?0:e)},Zd=Xi,tp=Qn,ep=j,np=Mr,rp=Qd,op=y([].push),ip=function(t){var e=1===t,n=2===t,r=3===t,o=4===t,i=6===t,a=7===t,u=5===t||i;return function(c,s,l,f){for(var d,p,h=ep(c),v=tp(h),y=np(v),g=Zd(s,l),m=0,b=f||rp,w=e?b(c,y):n||a?b(c,0):void 0;y>m;m++)if((u||m in v)&&(p=g(d=v[m],m,h),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:op(w,d)}else switch(t){case 4:return!1;case 7:op(w,d)}return i?-1:r||o?o:w}},ap={forEach:ip(0),map:ip(1),filter:ip(2),some:ip(3),every:ip(4),find:ip(5),findIndex:ip(6),filterReject:ip(7)},up=y,cp=zd,sp=Od.getWeakData,lp=hi,fp=vt,dp=g,pp=rt,hp=es,vp=P,yp=sn.set,gp=sn.getterFor,mp=ap.find,bp=ap.findIndex,wp=up([].splice),Sp=0,Op=function(t){return t.frozen||(t.frozen=new jp)},jp=function(){this.entries=[]},Ep=function(t,e){return mp(t.entries,(function(t){return t[0]===e}))};jp.prototype={get:function(t){var e=Ep(this,t);if(e)return e[1]},has:function(t){return!!Ep(this,t)},set:function(t,e){var n=Ep(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=bp(this.entries,(function(e){return e[0]===t}));return~e&&wp(this.entries,e,1),!!~e}};var Tp={getConstructor:function(t,e,n,r){var o=t((function(t,o){lp(t,i),yp(t,{type:e,id:Sp++,frozen:void 0}),dp(o)||hp(o,t[r],{that:t,AS_ENTRIES:n})})),i=o.prototype,a=gp(e),u=function(t,e,n){var r=a(t),o=sp(fp(e),!0);return!0===o?Op(r).set(e,n):o[r.id]=n,t};return cp(i,{delete:function(t){var e=a(this);if(!pp(t))return!1;var n=sp(t);return!0===n?Op(e).delete(t):n&&vp(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!pp(t))return!1;var n=sp(t);return!0===n?Op(e).has(t):n&&vp(n,e.id)}}),cp(i,n?{get:function(t){var e=a(this);if(pp(t)){var n=sp(t);return!0===n?Op(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),o}};_d("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Tp);var Pp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xp=ct("span").classList,Rp=xp&&xp.constructor&&xp.constructor.prototype,Mp=Rp===Object.prototype?void 0:Rp,kp=F,Ap=Pp,Cp=Mp,Ip=vf,Lp=Ye,Np=ai,Bp=ye("iterator"),Dp=Ip.values,Gp=function(t,e){if(t){if(t[Bp]!==Dp)try{Lp(t,Bp,Dp)}catch(e){t[Bp]=Dp}if(Np(t,e,!0),Ap[e])for(var n in Ip)if(t[n]!==Ip[n])try{Lp(t,n,Ip[n])}catch(e){t[n]=Ip[n]}}};for(var Fp in Ap)Gp(kp[Fp]&&kp[Fp].prototype,Fp);Gp(Cp,"DOMTokenList");var qp=s,_p=kt,$p=ye("species"),zp=function(t){return _p>=51||!qp((function(){var e=[];return(e.constructor={})[$p]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Yp=mo,Wp=Wd,Up=Ci,Hp=rt,Vp=Er,Kp=Mr,Jp=er,Xp=_f,Qp=ye,Zp=Zi,th=zp("slice"),eh=Qp("species"),nh=Array,rh=Math.max;Yp({target:"Array",proto:!0,forced:!th},{slice:function(t,e){var n,r,o,i=Jp(this),a=Kp(i),u=Vp(t,a),c=Vp(void 0===e?a:e,a);if(Wp(i)&&(n=i.constructor,(Up(n)&&(n===nh||Wp(n.prototype))||Hp(n)&&null===(n=n[eh]))&&(n=void 0),n===nh||void 0===n))return Zp(i,u,c);for(r=new(void 0===n?nh:n)(rh(c-u,0)),o=0;u<c;u++,o++)u in i&&Xp(r,o,i[u]);return r.length=o,r}});var oh=s,ih=function(t,e){var n=[][t];return!!n&&oh((function(){n.call(null,e||function(){return 1},1)}))},ah=mo,uh=Qn,ch=er,sh=ih,lh=y([].join);function fh(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}ah({target:"Array",proto:!0,forced:uh!==Object||!sh("join",",")},{join:function(t){return lh(ch(this),void 0===t?",":t)}});var dh=j,ph=So;mo({target:"Object",stat:!0,forced:s((function(){ph(1)}))},{keys:function(t){return ph(dh(t))}});var hh,vh=rt,yh=Hn,gh=ye("match"),mh=function(t){var e;return vh(t)&&(void 0!==(e=t[gh])?!!e:"RegExp"===yh(t))},bh=TypeError,wh=ye("match"),Sh=mo,Oh=Hi,jh=Fn.f,Eh=xr,Th=bf,Ph=function(t){if(mh(t))throw new bh("The method doesn't accept regular expressions");return t},xh=w,Rh=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[wh]=!1,"/./"[t](e)}catch(t){}}return!1},Mh=Oh("".startsWith),kh=Oh("".slice),Ah=Math.min,Ch=Rh("startsWith");Sh({target:"String",proto:!0,forced:!!(Ch||(hh=jh(String.prototype,"startsWith"),!hh||hh.writable))&&!Ch},{startsWith:function(t){var e=Th(xh(this));Ph(t);var n=Eh(Ah(arguments.length>1?arguments[1]:void 0,e.length)),r=Th(t);return Mh?Mh(e,r,n):kh(e,n,n+r.length)===r}});var Ih=ap.forEach,Lh=ih("forEach")?[].forEach:function(t){return Ih(this,t,arguments.length>1?arguments[1]:void 0)},Nh=F,Bh=Pp,Dh=Mp,Gh=Lh,Fh=Ye,qh=function(t){if(t&&t.forEach!==Gh)try{Fh(t,"forEach",Gh)}catch(e){t.forEach=Gh}};for(var _h in Bh)Bh[_h]&&qh(Nh[_h]&&Nh[_h].prototype);qh(Dh);var $h=l,zh=s,Yh=y,Wh=wl,Uh=So,Hh=er,Vh=Yh(qn.f),Kh=Yh([].push),Jh=$h&&zh((function(){var t=Object.create(null);return t[2]=2,!Vh(t,2)})),Xh=function(t){return function(e){for(var n,r=Hh(e),o=Uh(r),i=Jh&&null===Wh(r),a=o.length,u=0,c=[];a>u;)n=o[u++],$h&&!(i?n in r:Vh(r,n))||Kh(c,t?[n,r[n]]:r[n]);return c}},Qh={entries:Xh(!0),values:Xh(!1)}.entries;function Zh(t){return null!=t&&!Number.isNaN(t)}function tv(t,n){return+Zh(n)-+Zh(t)||e.ascending(t,n)}function ev(t){return isFinite(t)?t:NaN}function nv(t){return t>0&&isFinite(t)?t:NaN}function rv(t){return t<0&&isFinite(t)?t:NaN}mo({target:"Object",stat:!0},{entries:function(t){return Qh(t)}});const ov=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function iv(t,e){return ov.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const av=new Map([["second",e.timeSecond],["minute",e.timeMinute],["hour",e.timeHour],["day",e.timeDay],["week",e.timeWeek],["month",e.timeMonth],["quarter",e.timeMonth.every(3)],["half",e.timeMonth.every(6)],["year",e.timeYear],["monday",e.timeMonday],["tuesday",e.timeTuesday],["wednesday",e.timeWednesday],["thursday",e.timeThursday],["friday",e.timeFriday],["saturday",e.timeSaturday],["sunday",e.timeSunday]]),uv=new Map([["second",e.utcSecond],["minute",e.utcMinute],["hour",e.utcHour],["day",e.utcDay],["week",e.utcWeek],["month",e.utcMonth],["quarter",e.utcMonth.every(3)],["half",e.utcMonth.every(6)],["year",e.utcYear],["monday",e.utcMonday],["tuesday",e.utcTuesday],["wednesday",e.utcWednesday],["thursday",e.utcThursday],["friday",e.utcFriday],["saturday",e.utcSaturday],["sunday",e.utcSunday]]);function cv(t){const e=av.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}function sv(t){const e=uv.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}const lv=Object.getPrototypeOf(Uint8Array),fv=Object.prototype.toString,dv=t=>()=>t;function pv(t){return t instanceof lv?t:mv(t,hv,Float64Array)}function hv(t){return null==t?NaN:Number(t)}function vv(t){return mv(t,yv)}function yv(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?iv(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function gv(t){return null==t||t instanceof Array||t instanceof lv?t:Array.from(t)}function mv(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function bv(t,e=Array){return t instanceof e?t.slice():e.from(t)}function wv(t){return function(t){return t?.toString===fv}(t)&&(void 0!==t.type||void 0!==t.domain)}function Sv(t,n){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:t=>(t*n+1)/n,range:(t,r)=>e.range(Math.ceil(t*n),r*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:t=>t+n,range:(t,r)=>e.range(Math.ceil(t/n),r/n).map((t=>t*n))}}if("string"==typeof t)return("time"===n?cv:sv)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Ov(t,e){if((t=Sv(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function jv(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function Ev(t){for(const e of t)if(null!=e)return e instanceof Date}function Tv(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&iv(e)}function Pv(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function xv(t){if(null==t)return;const n=t[0],r=t[t.length-1];return e.descending(n,r)}const Rv=Symbol("position"),Mv=Symbol("color"),kv=Symbol("radius"),Av=Symbol("length"),Cv=Symbol("opacity"),Iv=Symbol("symbol"),Lv=new Map([["x",Rv],["y",Rv],["fx",Rv],["fy",Rv],["r",kv],["color",Mv],["opacity",Cv],["symbol",Iv],["length",Av]]),Nv=2/Math.sqrt(3),Bv={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Nv,o=r/2;t.moveTo(0,r),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-r),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},Dv=new Map([["asterisk",e.symbolAsterisk],["circle",e.symbolCircle],["cross",e.symbolCross],["diamond",e.symbolDiamond],["diamond2",e.symbolDiamond2],["hexagon",Bv],["plus",e.symbolPlus],["square",e.symbolSquare],["square2",e.symbolSquare2],["star",e.symbolStar],["times",e.symbolTimes],["triangle",e.symbolTriangle],["triangle2",e.symbolTriangle2],["wye",e.symbolWye]]);function Gv(t){if(null==t||function(t){return t&&"function"==typeof t.draw}(t))return t;const e=Dv.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Fv(t){console.warn(t)}const qv=new Map([["accent",e.schemeAccent],["category10",e.schemeCategory10],["dark2",e.schemeDark2],["paired",e.schemePaired],["pastel1",e.schemePastel1],["pastel2",e.schemePastel2],["set1",e.schemeSet1],["set2",e.schemeSet2],["set3",e.schemeSet3],["tableau10",e.schemeTableau10],["brbg",$v(e.schemeBrBG,e.interpolateBrBG)],["prgn",$v(e.schemePRGn,e.interpolatePRGn)],["piyg",$v(e.schemePiYG,e.interpolatePiYG)],["puor",$v(e.schemePuOr,e.interpolatePuOr)],["rdbu",$v(e.schemeRdBu,e.interpolateRdBu)],["rdgy",$v(e.schemeRdGy,e.interpolateRdGy)],["rdylbu",$v(e.schemeRdYlBu,e.interpolateRdYlBu)],["rdylgn",$v(e.schemeRdYlGn,e.interpolateRdYlGn)],["spectral",$v(e.schemeSpectral,e.interpolateSpectral)],["burd",zv(e.schemeRdBu,e.interpolateRdBu)],["buylrd",zv(e.schemeRdYlBu,e.interpolateRdYlBu)],["blues",_v(e.schemeBlues,e.interpolateBlues)],["greens",_v(e.schemeGreens,e.interpolateGreens)],["greys",_v(e.schemeGreys,e.interpolateGreys)],["oranges",_v(e.schemeOranges,e.interpolateOranges)],["purples",_v(e.schemePurples,e.interpolatePurples)],["reds",_v(e.schemeReds,e.interpolateReds)],["turbo",Yv(e.interpolateTurbo)],["viridis",Yv(e.interpolateViridis)],["magma",Yv(e.interpolateMagma)],["inferno",Yv(e.interpolateInferno)],["plasma",Yv(e.interpolatePlasma)],["cividis",Yv(e.interpolateCividis)],["cubehelix",Yv(e.interpolateCubehelixDefault)],["warm",Yv(e.interpolateWarm)],["cool",Yv(e.interpolateCool)],["bugn",_v(e.schemeBuGn,e.interpolateBuGn)],["bupu",_v(e.schemeBuPu,e.interpolateBuPu)],["gnbu",_v(e.schemeGnBu,e.interpolateGnBu)],["orrd",_v(e.schemeOrRd,e.interpolateOrRd)],["pubu",_v(e.schemePuBu,e.interpolatePuBu)],["pubugn",_v(e.schemePuBuGn,e.interpolatePuBuGn)],["purd",_v(e.schemePuRd,e.interpolatePuRd)],["rdpu",_v(e.schemeRdPu,e.interpolateRdPu)],["ylgn",_v(e.schemeYlGn,e.interpolateYlGn)],["ylgnbu",_v(e.schemeYlGnBu,e.interpolateYlGnBu)],["ylorbr",_v(e.schemeYlOrBr,e.interpolateYlOrBr)],["ylorrd",_v(e.schemeYlOrRd,e.interpolateYlOrRd)],["rainbow",Wv(e.interpolateRainbow)],["sinebow",Wv(e.interpolateSinebow)]]);function _v(t,n){return({length:r})=>1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)))>9?e.quantize(n,r):t[r]}function $v(t,n){return({length:r})=>2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize(n,r):t[r]}function zv(t,n){return({length:r})=>2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize((t=>n(1-t)),r):t[r].slice().reverse()}function Yv(t){return({length:n})=>e.quantize(t,Math.max(2,Math.floor(n)))}function Wv(t){return({length:n})=>e.quantize(t,Math.floor(n)+1).slice(0,-1)}function Uv(t){const e=`${t}`.toLowerCase();if(!qv.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return qv.get(e)}function Hv(t,e){const n=Uv(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const Vv=new Map([["brbg",e.interpolateBrBG],["prgn",e.interpolatePRGn],["piyg",e.interpolatePiYG],["puor",e.interpolatePuOr],["rdbu",e.interpolateRdBu],["rdgy",e.interpolateRdGy],["rdylbu",e.interpolateRdYlBu],["rdylgn",e.interpolateRdYlGn],["spectral",e.interpolateSpectral],["burd",t=>e.interpolateRdBu(1-t)],["buylrd",t=>e.interpolateRdYlBu(1-t)],["blues",e.interpolateBlues],["greens",e.interpolateGreens],["greys",e.interpolateGreys],["purples",e.interpolatePurples],["reds",e.interpolateReds],["oranges",e.interpolateOranges],["turbo",e.interpolateTurbo],["viridis",e.interpolateViridis],["magma",e.interpolateMagma],["inferno",e.interpolateInferno],["plasma",e.interpolatePlasma],["cividis",e.interpolateCividis],["cubehelix",e.interpolateCubehelixDefault],["warm",e.interpolateWarm],["cool",e.interpolateCool],["bugn",e.interpolateBuGn],["bupu",e.interpolateBuPu],["gnbu",e.interpolateGnBu],["orrd",e.interpolateOrRd],["pubugn",e.interpolatePuBuGn],["pubu",e.interpolatePuBu],["purd",e.interpolatePuRd],["rdpu",e.interpolateRdPu],["ylgnbu",e.interpolateYlGnBu],["ylgn",e.interpolateYlGn],["ylorbr",e.interpolateYlOrBr],["ylorrd",e.interpolateYlOrRd],["rainbow",e.interpolateRainbow],["sinebow",e.interpolateSinebow]]);function Kv(t){const e=`${t}`.toLowerCase();if(!Vv.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Vv.get(e)}const Jv=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Xv(t){return null!=t&&Jv.has(`${t}`.toLowerCase())}const Qv=t=>e=>t(1-e),Zv=[0,1],ty=new Map([["number",e.interpolateNumber],["rgb",e.interpolateRgb],["hsl",e.interpolateHsl],["hcl",e.interpolateHcl],["lab",e.interpolateLab]]);function ey(t){const e=`${t}`.toLowerCase();if(!ty.has(e))throw new Error(`unknown interpolator: ${e}`);return ty.get(e)}function ny(t,n,r,{type:o,nice:i,clamp:a,zero:u,domain:c=ay(t,r),unknown:s,round:l,scheme:f,interval:d,range:p=(Lv.get(t)===kv?cy(r,c):Lv.get(t)===Av?sy(r,c):Lv.get(t)===Cv?Zv:void 0),interpolate:h=(Lv.get(t)===Mv?null==f&&void 0!==p?e.interpolateRgb:Kv(void 0!==f?f:"cyclical"===o?"rainbow":"turbo"):l?e.interpolateRound:e.interpolateNumber),reverse:v}){if(d=Ov(d,o),"cyclical"!==o&&"sequential"!==o||(o="linear"),v=!!v,"function"!=typeof h&&(h=ey(h)),1===h.length?(v&&(h=Qv(h),v=!1),void 0===p&&2===(p=Float64Array.from(c,((t,e)=>e/(c.length-1)))).length&&(p=Zv),n.interpolate((p===Zv?dv:dy)(h))):n.interpolate(h),u){const[t,n]=e.extent(c);(t>0||n<0)&&(xv(c=bv(c))!==Math.sign(t)?c[c.length-1]=0:c[0]=0)}return v&&(c=e.reverse(c)),n.domain(c).unknown(s),i&&(n.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=Ov(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(i,o)),c=n.domain()),void 0!==p&&n.range(p),a&&n.clamp(a),{type:o,domain:c,range:p,scale:n,interpolate:h,interval:d}}function ry(t,n,{exponent:r=1,...o}){return ny(t,e.scalePow().exponent(r),n,{...o,type:"pow"})}function oy(t,n,{domain:r=[0],unknown:o,scheme:i="rdylbu",interpolate:a,range:u=(void 0!==a?e.quantize(a,r.length+1):Lv.get(t)===Mv?Hv(i,r.length+1):void 0),reverse:c}){const s=xv(r=gv(r));if(!isNaN(s)&&!function(t,n){for(let r=1,o=t.length,i=t[0];r<o;++r){const o=e.descending(i,i=t[r]);if(0!==o&&o!==n)return!1}return!0}(r,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=e.reverse(u)),{type:"threshold",scale:e.scaleThreshold(s<0?e.reverse(r):r,void 0===u?[]:u).unknown(o),domain:r,range:u}}function iy(t,n=ev){return t.length?[e.min(t,(({value:t})=>void 0===t?t:e.min(t,n))),e.max(t,(({value:t})=>void 0===t?t:e.max(t,n)))]:[0,1]}function ay(t,e){const n=Lv.get(t);return(n===kv||n===Cv||n===Av?uy:iy)(e)}function uy(t){return[0,t.length?e.max(t,(({value:t})=>void 0===t?t:e.max(t,ev))):1]}function cy(t,n){const r=t.find((({radius:t})=>void 0!==t));if(void 0!==r)return[0,r.radius];const o=e.quantile(t,.5,(({value:t})=>void 0===t?NaN:e.quantile(t,.25,nv))),i=n.map((t=>3*Math.sqrt(t/o))),a=30/e.max(i);return a<1?i.map((t=>t*a)):i}function sy(t,n){const r=e.median(t,(({value:t})=>void 0===t?NaN:e.median(t,Math.abs))),o=n.map((t=>12*t/r)),i=60/e.max(o);return i<1?o.map((t=>t*i)):o}function ly(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return iy(t,nv);if(n<0)return iy(t,rv)}return[1,10]}function fy(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function dy(t){return(e,n)=>r=>t(e+r*(n-e))}function py(t,n,r,o,{type:i,nice:a,clamp:u,domain:c=iy(o),unknown:s,pivot:l=0,scheme:f,range:d,symmetric:p=!0,interpolate:h=(Lv.get(t)===Mv?null==f&&void 0!==d?e.interpolateRgb:Kv(void 0!==f?f:"rdbu"):e.interpolateNumber),reverse:v}){l=+l;let[y,g]=c;if(e.descending(y,g)<0&&([y,g]=[g,y],v=!v),y=Math.min(y,l),g=Math.max(g,l),"function"!=typeof h&&(h=ey(h)),void 0!==d&&(h=1===h.length?dy(h)(...d):e.piecewise(h,d)),v&&(h=Qv(h)),p){const t=r.apply(l),e=t-r.apply(y),n=r.apply(g)-t;e<n?y=r.invert(t-n):e>n&&(g=r.invert(t+e))}return n.domain([y,l,g]).unknown(s).interpolator(h),u&&n.clamp(u),a&&n.nice(a),{type:i,domain:[y,g],pivot:l,interpolate:h,scale:n}}function hy(t,n,{exponent:r=1,...o}){return py(t,e.scaleDivergingPow().exponent(r=+r),function(t){return.5===t?my:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(r),n,{...o,type:"diverging-pow"})}function vy(t,n,{constant:r=1,...o}){return py(t,e.scaleDivergingSymlog().constant(r=+r),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(r),n,o)}const yy={apply:t=>t,invert:t=>t},gy={apply:Math.log,invert:Math.exp},my={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function by(t,e,n,r){return ny(t,e,n,r)}const wy=Symbol("ordinal");function Sy(t,n,r,{type:o,interval:i,domain:a,range:u,reverse:c,hint:s}){return i=Ov(i,o),void 0===a&&(a=Ey(r,i,t)),"categorical"!==o&&o!==wy||(o="ordinal"),c&&(a=e.reverse(a)),n.domain(a),void 0!==u&&("function"==typeof u&&(u=u(a)),n.range(u)),{type:o,domain:a,range:u,scale:n,hint:s,interval:i}}function Oy(t,n,{type:r,interval:o,domain:i,range:a,scheme:u,unknown:c,...s}){let l;if(o=Ov(o,r),void 0===i&&(i=Ey(n,o,t)),Lv.get(t)===Iv)l=function(t){return{fill:Ty(t,"fill"),stroke:Ty(t,"stroke")}}(n),a=void 0===a?function(t){return n=t.fill,null==n||function(t){return/^\s*none\s*$/i.test(t)}(n)?e.symbolsStroke:e.symbolsFill;var n}(l):mv(a,Gv);else if(Lv.get(t)===Mv&&(void 0!==a||"ordinal"!==r&&r!==wy||(a=function(t,e="greys"){const n=new Set,[r,o]=Hv(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(o);else{if(!1!==e)return;n.add(r)}return[...n]}(i,u),void 0!==a&&(u=void 0)),void 0===u&&void 0===a&&(u="ordinal"===r?"turbo":"tableau10"),void 0!==u))if(void 0!==a){const t=Kv(u),n=a[0],r=a[1]-a[0];a=({length:o})=>e.quantize((e=>t(n+r*e)),o)}else a=Uv(u);if(c===e.scaleImplicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return Sy(t,e.scaleOrdinal().unknown(c),n,{...s,type:r,domain:i,range:a,hint:l})}function jy(t,e,n,r){let{round:o}=n;return void 0!==o&&t.round(o=!!o),(t=Sy(r,t,e,n)).round=o,t}function Ey(t,n,r){const o=new e.InternSet;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)o.add(t)}if(void 0!==n){const[t,r]=e.extent(o).map(n.floor,n);return n.range(t,n.offset(r))}if(o.size>1e4&&Lv.get(r)===Rv)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return e.sort(o,tv)}function Ty(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function Py(t,n,r){return function(t,n=[],r={}){const o=function(t,e,{type:n,domain:r,range:o,scheme:i,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=Ry);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===Ry)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const c=Lv.get(t);if(c===kv)return"sqrt";if(c===Cv||c===Av)return"linear";if(c===Iv)return"ordinal";if((r||o||[]).length>2)return My(c);if(void 0!==r)return jv(r)?My(c):Ev(r)?"utc":c!==Mv||null==a&&!Xv(i)?"linear":"diverging";const s=e.map((({value:t})=>t)).filter((t=>void 0!==t));return s.some(jv)?My(c):s.some(Ev)?"utc":c!==Mv||null==a&&!Xv(i)?"linear":"diverging"}(t,n,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===wy}({type:o})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(Ev)?Fv(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${xy(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${xy(o)}".`):e.some(Tv)?Fv(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${xy(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${xy(o)}".`):e.some(Pv)&&Fv(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${xy(o)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${xy(o)}".`)}switch(r.type=o,o){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=ky(n,r,pv);break;case"identity":switch(Lv.get(t)){case Rv:r=ky(n,r,pv);break;case Iv:r=ky(n,r,Ay)}break;case"utc":case"time":r=ky(n,r,vv)}switch(o){case"diverging":return function(t,n,r){return py(t,e.scaleDiverging(),yy,n,r)}(t,n,r);case"diverging-sqrt":return function(t,e,n){return hy(t,e,{...n,exponent:.5})}(t,n,r);case"diverging-pow":return hy(t,n,r);case"diverging-log":return function(t,n,{base:r=10,pivot:o=1,domain:i=iy(n,o<0?rv:nv),...a}){return py(t,e.scaleDivergingLog().base(r=+r),gy,n,{domain:i,pivot:o,...a})}(t,n,r);case"diverging-symlog":return vy(t,n,r);case"categorical":case"ordinal":case wy:return Oy(t,n,r);case"cyclical":case"sequential":case"linear":return function(t,n,r){return ny(t,e.scaleLinear(),n,r)}(t,n,r);case"sqrt":return function(t,e,n){return ry(t,e,{...n,exponent:.5})}(t,n,r);case"threshold":return oy(t,0,r);case"quantile":return function(t,n,{range:r,quantiles:o=(void 0===r?5:(r=[...r]).length),n:i=o,scheme:a="rdylbu",domain:u=fy(n),unknown:c,interpolate:s,reverse:l}){return void 0===r&&(r=void 0!==s?e.quantize(s,i):Lv.get(t)===Mv?Hv(a,i):void 0),u.length>0&&(u=e.scaleQuantile(u,void 0===r?{length:i}:r).quantiles()),oy(t,0,{domain:u,range:r,reverse:l,unknown:c})}(t,n,r);case"quantize":return function(t,n,{range:r,n:o=(void 0===r?5:(r=[...r]).length),scheme:i="rdylbu",domain:a=ay(t,n),unknown:u,interpolate:c,reverse:s}){const[l,f]=e.extent(a);let d;return void 0===r?(d=e.ticks(l,f,o),d[0]<=l&&d.splice(0,1),d[d.length-1]>=f&&d.pop(),o=d.length+1,r=void 0!==c?e.quantize(c,o):Lv.get(t)===Mv?Hv(i,o):void 0):(d=e.quantize(e.interpolateNumber(l,f),o+1).slice(1,-1),l instanceof Date&&(d=d.map((t=>new Date(t))))),xv(gv(a))<0&&d.reverse(),oy(t,0,{domain:d,range:r,reverse:s,unknown:u})}(t,n,r);case"pow":return ry(t,n,r);case"log":return function(t,n,{base:r=10,domain:o=ly(n),...i}){return ny(t,e.scaleLog().base(r),n,{...i,domain:o})}(t,n,r);case"symlog":return function(t,n,{constant:r=1,...o}){return ny(t,e.scaleSymlog().constant(r),n,o)}(t,n,r);case"utc":return function(t,n,r){return by(t,e.scaleUtc(),n,r)}(t,n,r);case"time":return function(t,n,r){return by(t,e.scaleTime(),n,r)}(t,n,r);case"point":return function(t,n,{align:r=.5,padding:o=.5,...i}){return jy(e.scalePoint().align(r).padding(o),n,i,t)}(t,n,r);case"band":return function(t,n,{align:r=.5,padding:o=.1,paddingInner:i=o,paddingOuter:a=("fx"===t||"fy"===t?0:o),...u}){return jy(e.scaleBand().align(r).paddingInner(i).paddingOuter(a),n,u,t)}(t,n,r);case"identity":return Lv.get(t)===Rv?{type:"identity",scale:e.scaleIdentity()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${o}`)}}(t,void 0===r?void 0:[{hint:r}],{...n})}function xy(t){return"symbol"==typeof t?t.description:t}const Ry={toString:()=>"projection"};function My(t){switch(t){case Rv:return"point";case Mv:return wy;default:return"ordinal"}}function ky(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function Ay(t){return mv(t,Gv)}function Cy({scale:t,type:e,domain:n,range:r,interpolate:o,interval:i,transform:a,percent:u,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const s=t.unknown?t.unknown():void 0;return{type:e,domain:bv(n),...void 0!==r&&{range:bv(r)},...void 0!==a&&{transform:a},...u&&{percent:u},...void 0!==s&&{unknown:s},...void 0!==i&&{interval:i},...void 0!==o&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}var Iy,Ly;!function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(Iy||(Iy={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(Ly||(Ly={}));var Ny="red";function By(t){try{var e=Object.keys(t)[0];return function(t={}){let e;for(const n in t)if(Lv.has(n)&&wv(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=Cy(Py(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((n={},r=e,o=Object.assign(Object.assign({},t[e]),{clamp:!0}),(r=u(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}catch(t){return null}var n,r,o}function Dy(t,e,n,o){Object.entries(function(t,e){var n={};return e.hasOwnProperty("opacity")?(n.fill=function(){return e.opacity.baseColor||Ny},n["fill-opacity"]=function(e){return null==t?void 0:t.apply(e)}):n.fill=function(e){return"string"==typeof e&&(null==e?void 0:e.startsWith("#"))?e:null==t?void 0:t.apply(e)},n}(e,n)).forEach((function(e){var n=r(e,2),i=n[0],a=n[1];return t.style(i,(function(t){return a(o?t[o]:t)}))}))}var Gy=TypeError,Fy=mo,qy=s,_y=Wd,$y=rt,zy=j,Yy=Mr,Wy=function(t){if(t>9007199254740991)throw Gy("Maximum allowed index exceeded");return t},Uy=_f,Hy=Qd,Vy=zp,Ky=kt,Jy=ye("isConcatSpreadable"),Xy=Ky>=51||!qy((function(){var t=[];return t[Jy]=!1,t.concat()[0]!==t})),Qy=function(t){if(!$y(t))return!1;var e=t[Jy];return void 0!==e?!!e:_y(t)};Fy({target:"Array",proto:!0,arity:1,forced:!Xy||!Vy("concat")},{concat:function(t){var e,n,r,o,i,a=zy(this),u=Hy(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Qy(i=-1===e?a:arguments[e]))for(o=Yy(i),Wy(c+o),n=0;n<o;n++,c++)n in i&&Uy(u,c,i[n]);else Wy(c+1),Uy(u,c++,i);return u.length=c,u}});var Zy=mt,tg=Ut,eg=wu,ng=nu,rg=es;mo({target:"Promise",stat:!0,forced:cs},{allSettled:function(t){var e=this,n=eg.f(e),r=n.resolve,o=n.reject,i=ng((function(){var n=tg(e.resolve),o=[],i=0,a=1;rg(t,(function(t){var u=i++,c=!1;a++,Zy(n,e,t).then((function(t){c||(c=!0,o[u]={status:"fulfilled",value:t},--a||r(o))}),(function(t){c||(c=!0,o[u]={status:"rejected",reason:t},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var og=nl,ig=kn,ag=zd,ug=Xi,cg=hi,sg=g,lg=es,fg=ef,dg=nf,pg=fi,hg=l,vg=Od.fastKey,yg=sn.set,gg=sn.getterFor,mg={getConstructor:function(t,e,n,r){var o=t((function(t,o){cg(t,i),yg(t,{type:e,index:og(null),first:void 0,last:void 0,size:0}),hg||(t.size=0),sg(o)||lg(o,t[r],{that:t,AS_ENTRIES:n})})),i=o.prototype,a=gg(e),u=function(t,e,n){var r,o,i=a(t),u=c(t,e);return u?u.value=n:(i.last=u={index:o=vg(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),hg?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},c=function(t,e){var n,r=a(t),o=vg(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key===e)return n};return ag(i,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,hg?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=c(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first===r&&(n.first=o),n.last===r&&(n.last=i),hg?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=ug(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),ag(i,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),hg&&ig(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=gg(e),i=gg(r);fg(t,e,(function(t,e){yg(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?dg("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,dg(void 0,!0))}),n?"entries":"values",!n,!0),pg(e)}};_d("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),mg);var bg=$t,wg=TypeError,Sg=Hf,Og=Math.floor,jg=function(t,e){var n=t.length,r=Og(n/2);return n<8?Eg(t,e):Tg(t,jg(Sg(t,0,r),e),jg(Sg(t,r),e),e)},Eg=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},Tg=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t},Pg=jg,xg=jt.match(/firefox\/(\d+)/i),Rg=!!xg&&+xg[1],Mg=/MSIE|Trident/.test(jt),kg=jt.match(/AppleWebKit\/(\d+)\./),Ag=!!kg&&+kg[1],Cg=mo,Ig=y,Lg=Ut,Ng=j,Bg=Mr,Dg=function(t,e){if(!delete t[e])throw new wg("Cannot delete property "+bg(e)+" of "+bg(t))},Gg=bf,Fg=s,qg=Pg,_g=ih,$g=Rg,zg=Mg,Yg=kt,Wg=Ag,Ug=[],Hg=Ig(Ug.sort),Vg=Ig(Ug.push),Kg=Fg((function(){Ug.sort(void 0)})),Jg=Fg((function(){Ug.sort(null)})),Xg=_g("sort"),Qg=!Fg((function(){if(Yg)return Yg<70;if(!($g&&$g>3)){if(zg)return!0;if(Wg)return Wg<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Ug.push({k:e+r,v:n})}for(Ug.sort((function(t,e){return e.v-t.v})),r=0;r<Ug.length;r++)e=Ug[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));Cg({target:"Array",proto:!0,forced:Kg||!Jg||!Xg||!Qg},{sort:function(t){void 0!==t&&Lg(t);var e=Ng(this);if(Qg)return void 0===t?Hg(e):Hg(e,t);var n,r,o=[],i=Bg(e);for(r=0;r<i;r++)r in e&&Vg(o,e[r]);for(qg(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Gg(e)>Gg(n)?1:-1}}(t)),n=Bg(o),r=0;r<n;)e[r]=o[r++];for(;r<i;)Dg(e,r++);return e}});var Zg=Lr.includes,tm=fl;mo({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return Zg(this,t,arguments.length>1?arguments[1]:void 0)}}),tm("includes");var em=ap.map;mo({target:"Array",proto:!0,forced:!zp("map")},{map:function(t){return em(this,t,arguments.length>1?arguments[1]:void 0)}});var nm=ap.filter;mo({target:"Array",proto:!0,forced:!zp("filter")},{filter:function(t){return nm(this,t,arguments.length>1?arguments[1]:void 0)}});var rm=vt,om=_c,im=Xi,am=mt,um=j,cm=function(t,e,n,r){try{return r?e(rm(n)[0],n[1]):e(n)}catch(e){om(t,"throw",e)}},sm=Ec,lm=Ci,fm=Mr,dm=_f,pm=Dc,hm=kc,vm=Array,ym=function(t){var e=um(t),n=lm(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=im(o,r>2?arguments[2]:void 0));var a,u,c,s,l,f,d=hm(e),p=0;if(!d||this===vm&&sm(d))for(a=fm(e),u=n?new this(a):vm(a);a>p;p++)f=i?o(e[p],p):e[p],dm(u,p,f);else for(l=(s=pm(e,d)).next,u=n?new this:[];!(c=am(l,s)).done;p++)f=i?cm(s,o,[c.value,p],!0):c.value,dm(u,p,f);return u.length=p,u};mo({target:"Array",stat:!0,forced:!as((function(t){Array.from(t)}))},{from:ym});var gm="\t\n\v\f\r  áââââââââââââ¯âã\u2028\u2029\ufeff",mm=w,bm=bf,wm=gm,Sm=y("".replace),Om=RegExp("^["+wm+"]+"),jm=RegExp("(^|[^"+wm+"])["+wm+"]+$"),Em=function(t){return function(e){var n=bm(mm(e));return 1&t&&(n=Sm(n,Om,"")),2&t&&(n=Sm(n,jm,"$1")),n}},Tm={start:Em(1),end:Em(2),trim:Em(3)},Pm=C.PROPER,xm=s,Rm=gm,Mm=Tm.trim;mo({target:"String",proto:!0,forced:function(t){return xm((function(){return!!Rm[t]()||"âÂá "!=="âÂá "[t]()||Pm&&Rm[t].name!==t}))}("trim")},{trim:function(){return Mm(this)}});var km,Am,Cm,Im=".ch-plugin-legend-lite",Lm={enabled:!0,itemSelector:null,width:10,height:10,gutter:2,radius:0,includeBlank:!1},Nm=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),km.add(this),this.name="LegendLite",this.calendar=t,this.root=null,this.shown=!1,this.options=Lm}var r,o,i;return r=e,o=[{key:"setup",value:function(t){this.options=Object.assign(Object.assign({},this.options),t)}},{key:"paint",value:function(){var e=this.options,n=e.enabled,r=e.itemSelector;if(!n||r&&t.select(r).empty())return this.destroy();this.shown=!0,this.root=t.select(r||this.calendar.options.options.itemSelector),this.root.select(Im).empty()?this.root=this.root.append("div").attr("class",Im.slice(1)):this.root=this.root.select(Im);var o=fh(this,km,"m",Am).call(this);return this.root.selectAll("*").remove(),this.root.append((function(){return o.node()})),Promise.resolve()}},{key:"destroy",value:function(){return null!==this.root&&(this.root.remove(),this.root=null),Promise.resolve()}}],o&&n(r.prototype,o),i&&n(r,i),Object.defineProperty(r,"prototype",{writable:!1}),e}();return km=new WeakSet,Am=function(){var e=this,n=t.create("svg"),r=By(this.calendar.options.options.scale),i=this.options,a=i.width,u=i.height,c=i.gutter,s=i.includeBlank,l=o(r.range);return s&&l.unshift(null),n.attr("class",".ch-container".slice(1)).attr("width",l.length*a+(l.length-1)*c).attr("height",u),n.selectAll("rect").data(l).join((function(t){return t.append("rect").call((function(t){return fh(e,km,"m",Cm).call(e,t,r)}))}),(function(t){return t.selectAll("rect").call((function(t){return fh(e,km,"m",Cm).call(e,t,r)}))})),n},Cm=function(t,e){var n=this,r=this.options,o=r.width,i=r.height,a=r.radius,u=r.gutter;return t.attr("width",o).attr("height",i).attr("class","".concat(".ch-subdomain".slice(1),"-bg")).attr("rx",a).attr("ry",a).attr("x",(function(t,e){return e*(o+u)})).attr("y",0).call((function(t){Dy(t,e,n.calendar.options.options.scale)}))},Nm}));//# sourceMappingURL=LegendLite.min.js.map
